# 概述
本模块用于实现分块、并发上传的服务端和客户端。

# 基本设计
将文件分割为多个文件，然后按照如下过程

1.  客户端请求上传文件,服务端返回一个 session_id
3.  客户端上传某个块文件，同时伴随着 session_id 和 offset（表示相对文件开始位置的偏移）
3.  客户端请求完成上传，服务端检察并且返回结果



##服务端


### FinishTask
当文件上传完成，下一步就是处理了，不同的应用有不同的处理，这时我们有两种选择

* 将上传后的文件作为 io.ReadCloser传递出去
* 要求客户代码提供一个接收 io.ReadCloser参数的方法作为 **FinishTask()**的参数


| 方式  | 优点  | 缺点  |
| --- | --- | --- |
|交出数据 | 逻辑上完整，对文件的操作彻底剥离  | 如果客户端代码忘记调用 Close()方法,将导致无法清理数据 |
| 收回操作  | 对文件的掌控好 | 对文件的操作侵入到代码中|

考虑到官方包**net/http.Request.Body**的处理，还是采用前者
